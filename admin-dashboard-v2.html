<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard Admin - CWF</title>
  <link rel="stylesheet" href="style.css">
  <style>
    :root{
      --blue1:#0b4bb3;
      --blue2:#0b1b3a;
      --yellow:#ffcc00;
      --card:#ffffff;
      --muted:rgba(15,23,42,.62);
      --line:rgba(15,23,42,.10);
      --shadow:0 18px 42px rgba(2,6,23,.12);
    }
    body{
      background:
        radial-gradient(900px 420px at 50% -40px, rgba(255,204,0,.22), transparent 55%),
        radial-gradient(900px 420px at 80% 0px, rgba(11,75,179,.18), transparent 55%),
        linear-gradient(180deg, rgba(11,27,58,.92) 0%, rgba(11,75,179,.92) 130px, #f6f8ff 130px, #ffffff 100%);
    }

    /* container */
    .wrap{max-width:460px;margin:0 auto;padding:14px 14px 140px;}

    /* title removed (‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÅ‡∏ó‡∏ô) */
    .heroTitle{display:none;}

    /* cards */
    .card{background:var(--card);border:1px solid rgba(11,75,179,.14);border-radius:22px;box-shadow:var(--shadow);}
    .card.p0{padding:0;overflow:hidden;}
    .card.p14{padding:14px;}
    .card.p12{padding:12px;}
    .muted{color:var(--muted);font-weight:900;font-size:12px}

    /* shortcut row (Dashboard / Profile) */
    .shortcutRow{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px;}
    .shortcut{display:flex;align-items:center;gap:10px;padding:12px;border-radius:18px;cursor:pointer;user-select:none;border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(135deg, rgba(255,255,255,.10) 0%, rgba(255,255,255,.06) 100%);
      box-shadow:0 16px 40px rgba(0,0,0,.14);
      color:#fff;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .shortcut .ico{width:40px;height:40px;border-radius:14px;display:flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.16)}
    .shortcut b{font-size:13px;font-weight:1000}
    .shortcut span{display:block;font-size:11px;font-weight:900;opacity:.82}

    /* segmented (Today/7/30) */
    .seg{margin-top:12px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:0;border-radius:18px;overflow:hidden;border:1px solid rgba(15,23,42,.10);background:#fff;}
    .seg button{padding:12px 10px;border:0;background:transparent;font-weight:1000;font-size:13px;color:rgba(15,23,42,.72);cursor:pointer}
    .seg button.active{background:var(--yellow);color:#0b1b3a;}
    .seg button:not(.active){background:rgba(255,255,255,.92)}

    /* kpi blocks */
    .kpiRow2{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px;}
    .kpiBlue{color:#fff;background:linear-gradient(135deg,var(--blue1) 0%, var(--blue2) 100%);border:1px solid rgba(255,255,255,.12)}
    .kpiSoft{background:linear-gradient(135deg, rgba(11,75,179,.08) 0%, rgba(15,23,42,.04) 100%)}
    .kpi{border-radius:20px;padding:12px;box-shadow:0 16px 42px rgba(2,6,23,.10)}
    .kpi .t{font-weight:1000;font-size:12px;opacity:.92}
    .kpi .v{margin-top:6px;font-weight:1100;font-size:22px;letter-spacing:.2px}
    .kpi .h{margin-top:2px;font-weight:900;font-size:11px;opacity:.78}
    .kpiBlue .t,.kpiBlue .v,.kpiBlue .h{color:#fff}
    .kpiSoft .t{color:rgba(15,23,42,.65)}
    .kpiSoft .v{color:#0b1b3a}
    .kpiSoft .h{color:rgba(15,23,42,.55)}

    /* donut big card */
    .donutGrid{display:grid;grid-template-columns:0.55fr 0.45fr;gap:10px;align-items:center;}
    .bigNum{font-size:40px;font-weight:1200;color:#0b1b3a;line-height:1}
    .miniLegend{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .miniLegend .li{display:flex;align-items:center;justify-content:space-between;gap:10px;font-weight:1000}
    .miniLegend .left{display:flex;align-items:center;gap:10px}
    .dot{width:10px;height:10px;border-radius:999px}
    .li .count{font-weight:1100;color:#0b1b3a}

    /* collapsible filters */
    .filtersCard{margin-top:12px}
    .foldHead{display:flex;align-items:center;justify-content:space-between;gap:10px;cursor:pointer;user-select:none}
    .foldHead b{font-weight:1100;color:#0b1b3a}
    .chev{width:36px;height:36px;border-radius:14px;border:1px solid var(--line);display:flex;align-items:center;justify-content:center;background:#fff}
    .foldBody{margin-top:10px;display:none}
    .filtersCard.open .foldBody{display:block}
    .filtersCard.open .chev{transform:rotate(180deg)}
    .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    input[type="date"]{padding:10px 12px;border-radius:14px;border:1px solid rgba(11,75,179,.18);font-weight:1000}
    .btn{border-radius:14px;border:1px solid rgba(15,23,42,.12);padding:10px 12px;font-weight:1000;cursor:pointer}
    .btn.yellow{background:var(--yellow);color:#0b1b3a;border-color:var(--yellow)}
    .btn.blue{background:var(--blue1);color:#fff;border-color:var(--blue1)}
    .btn.ghost{background:#fff;color:#0b1b3a}

    /* chart cards */
    .titleRow{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .titleRow h3{margin:0;font-size:15px;font-weight:1100;color:#0b1b3a}
    canvas{max-width:100%}

    /* lists */
    .list{display:flex;flex-direction:column;gap:10px;margin-top:10px}
    .item{border:1px solid rgba(15,23,42,.10);border-radius:18px;padding:10px 12px;background:#fff;display:flex;justify-content:space-between;gap:12px;align-items:center}
    .item .l{min-width:0}
    .item b{display:block;color:#0b1b3a;font-weight:1100;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .item .s{margin-top:2px;color:rgba(15,23,42,.60);font-weight:900;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .pill{display:inline-flex;align-items:center;gap:6px;border-radius:999px;padding:6px 10px;font-weight:1000;font-size:12px;white-space:nowrap}
    .pill.yellow{background:var(--yellow);color:#0b1b3a}
    .pill.blue{background:var(--blue1);color:#fff}
    .pill.gray{background:#eef2ff;color:#0b1b3a}

    /* avatar */
    .meRow{display:flex;align-items:center;gap:12px;margin-top:6px}
    .avatar{width:44px;height:44px;border-radius:16px;object-fit:cover;border:1px solid rgba(255,255,255,.22);
      box-shadow:0 10px 26px rgba(0,0,0,.18);background:rgba(255,255,255,.12)}
    .who{color:#ffffff;font-weight:1200;font-size:16px;letter-spacing:.2px}
    .role{color:rgba(255,255,255,.78);font-weight:1000;font-size:12px}

    /* tech filter */
    .techSeg{margin-top:12px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:0;border-radius:18px;overflow:hidden;border:1px solid rgba(15,23,42,.10);background:#fff;}
    .techSeg button{padding:11px 10px;border:0;background:transparent;font-weight:1100;font-size:13px;color:rgba(15,23,42,.72);cursor:pointer}
    .techSeg button.active{background:var(--blue1);color:#fff;}
    .techSeg button:not(.active){background:rgba(255,255,255,.92)}

    .kpiYellow{background:linear-gradient(135deg, rgba(255,204,0,.98) 0%, rgba(255,214,55,.92) 100%);border:1px solid rgba(255,204,0,.55)}
    .kpiYellow .t,.kpiYellow .v,.kpiYellow .h{color:#0b1b3a}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="meRow">
      <img id="meAvatar" class="avatar" alt="Admin" />
      <div style="min-width:0">
        <div class="who" id="whoBox">‚Äî</div>
        <div class="role" id="roleBox">‚Äî</div>
      </div>
    </div>

    <div class="shortcutRow">
      <div class="shortcut" id="goAddJob">
        <div class="ico">‚ûï</div>
        <div>
          <b>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</b>
          <span>‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</span>
        </div>
      </div>
      <div class="shortcut" id="goHistory">
        <div class="ico">üìö</div>
        <div>
          <b>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</b>
          <span>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</span>
        </div>
      </div>
    </div>

    <div class="seg" style="margin-top:12px">
      <button id="quickToday" type="button" class="active">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
      <button id="quick7" type="button">7 ‡∏ß‡∏±‡∏ô</button>
      <button id="quick30" type="button">30 ‡∏ß‡∏±‡∏ô</button>
    </div>

    <div class="kpiRow2">
      <div class="kpi kpiBlue">
        <div class="t">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ</div>
        <div class="v" id="meSold">‚Äî</div>
        <div class="h" id="meSoldHint">‚Äî</div>
      </div>
      <div class="kpi kpiBlue" style="background:linear-gradient(135deg,#0b4bb3 0%, #134e4a 100%)">
        <div class="t">‡∏Ñ‡∏≠‡∏°‡∏°‡∏¥‡∏ä‡∏ä‡∏±‡πà‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</div>
        <div class="v" id="meCommission">‚Äî</div>
        <div class="h" id="meCommissionHint">‚Äî</div>
      </div>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ä‡πà‡∏≤‡∏á</h3>
        <div class="muted" id="techHint">‚Äî</div>
      </div>
      <div class="seg" style="margin-top:10px" id="techSeg">
        <button id="techAll" type="button" class="active">‡∏£‡∏ß‡∏°</button>
        <button id="techCompany" type="button">‡∏ä‡πà‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
        <button id="techPartner" type="button">‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏ô‡∏≠‡∏£‡πå</button>
      </div>
      <div class="kpiRow2" style="margin-top:12px">
        <div class="kpi kpiSoft">
          <div class="t">‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</div>
          <div class="v" id="techOpen">‚Äî</div>
          <div class="h">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</div>
        </div>
        <div class="kpi kpiSoft">
          <div class="t">‡∏ä‡πà‡∏≤‡∏á‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</div>
          <div class="v" id="techClosed">‚Äî</div>
          <div class="h">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</div>
        </div>
      </div>
      <div class="kpiRow2" style="margin-top:10px">
        <div class="kpi kpiBlue" style="background:linear-gradient(135deg,#0b4bb3 0%, #0b1b3a 100%)">
          <div class="t">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡πà‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
          <div class="v" id="techTotal">‚Äî</div>
          <div class="h">‡∏£‡∏ß‡∏°‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</div>
        </div>
        <div class="kpi kpiBlue" style="background:linear-gradient(135deg,#ffcc00 0%, #ffd84d 100%); color:#0b1b3a">
          <div class="t" style="color:#0b1b3a">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</div>
          <div class="v" id="techOpenRate" style="color:#0b1b3a">‚Äî</div>
          <div class="h" style="color:rgba(11,27,58,.72)">‡πÄ‡∏õ‡∏¥‡∏î / ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </div>
      </div>
    </div>

    <div class="kpiRow2">
      <div class="kpi kpiSoft">
        <div class="t">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</div>
        <div class="v" id="coRevenue">‚Äî</div>
        <div class="h" id="coRevenueHint">‚Äî</div>
      </div>
      <div class="kpi kpiSoft">
        <div class="t">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏≤‡∏ô (‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ)</div>
        <div class="v" id="counts">‚Äî</div>
        <div class="h">‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Asia/Bangkok</div>
      </div>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <div class="muted" id="donutHint">‚Äî</div>
      </div>
      <div class="donutGrid" style="margin-top:8px">
        <div>
          <div class="bigNum" id="jobTotal">‚Äî</div>
          <div class="muted">‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
          <div class="miniLegend">
            <div class="li">
              <div class="left"><span class="dot" style="background:var(--yellow)"></span>‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</div>
              <div class="count" id="stPending">‚Äî</div>
            </div>
            <div class="li">
              <div class="left"><span class="dot" style="background:var(--blue1)"></span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥</div>
              <div class="count" id="stActive">‚Äî</div>
            </div>
            <div class="li">
              <div class="left"><span class="dot" style="background:#16a34a"></span>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div>
              <div class="count" id="stDone">‚Äî</div>
            </div>
          </div>
        </div>
        <div>
          <canvas id="donut" height="170"></canvas>
        </div>
      </div>
    </div>

    <div class="card p14 filtersCard" id="filtersCard" style="margin-top:12px">
      <div class="foldHead" id="filterToggle" role="button" aria-label="‡∏û‡∏±‡∏ö/‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á">
        <div>
          <b>üîé ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</b>
          <div class="muted" id="filterSummary">‚Äî</div>
        </div>
        <div style="display:flex;align-items:center;gap:8px">
          <button class="btn blue" id="btnApplyMini" type="button" title="‡πÇ‡∏´‡∏•‡∏î">‚ü≥ ‡πÇ‡∏´‡∏•‡∏î</button>
          <div class="chev">‚ñæ</div>
        </div>
      </div>
      <div class="foldBody" id="filterBody">
        <div class="row" style="margin-top:10px">
          <input type="date" id="fromDate" title="‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">
          <span class="muted">‚Üí</span>
          <input type="date" id="toDate" title="‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">
          <button class="btn yellow" id="btnApply" type="button">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>
        <div class="muted" style="margin-top:10px">* ‡∏ñ‡πâ‡∏≤‡∏û‡∏±‡∏ö‡πÑ‡∏ß‡πâ ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏Å‡∏´‡∏ô‡πâ‡∏≤ (‡∏Å‡∏î‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ)</div>
      </div>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ó‡πà‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô (‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô)</h3>
        <div class="muted" id="candleHint">‚Äî</div>
      </div>
      <canvas id="candles" height="190" style="margin-top:8px"></canvas>
      <div class="muted" style="margin-top:8px">* ‡πÉ‡∏ä‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏á‡∏≤‡∏ô (job_price) ‡∏ó‡∏≥ OHLC ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô</div>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á)</h3>
        <div class="muted" id="seriesHint">‚Äî</div>
      </div>
      <div class="row" style="margin-top:10px">
        <button class="btn yellow" data-group="day" type="button">‡∏ß‡∏±‡∏ô</button>
        <button class="btn ghost" data-group="week" type="button">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</button>
        <button class="btn ghost" data-group="month" type="button">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</button>
        <button class="btn ghost" data-group="year" type="button">‡∏õ‡∏µ</button>
      </div>
      <canvas id="chart" height="160" style="margin-top:10px"></canvas>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ (‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)</h3>
        <div class="muted" id="pendingHint">‚Äî</div>
      </div>
      <div class="list" id="pendingList"></div>
    </div>

    <div class="card p14" style="margin-top:12px">
      <div class="titleRow">
        <h3>‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î + ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥</h3>
        <div class="muted" id="activeHint">‚Äî</div>
      </div>
      <div class="list" id="activeList"></div>
    </div>

  </div>

  <script src="admin-v2-common.js?v=20260212_dash_ui"></script>
  <script src="admin-dashboard-v2.js?v=20260212_dash_ui"></script>
</body>
</html>
