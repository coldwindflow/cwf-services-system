<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô (v2) - CWF</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .app{padding-bottom:86px}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    @media (max-width:420px){.grid2{grid-template-columns:1fr}}
    .table-wrap{margin-top:12px;background:#fff;border:1px solid rgba(15,23,42,0.10);border-radius:18px;overflow:hidden;box-shadow:var(--shadow)}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid rgba(15,23,42,0.08);font-size:13px;vertical-align:top}
    th{background:#f8fafc;text-align:left;position:sticky;top:0;z-index:1}
    .code{font-weight:900}
    .pill{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid rgba(15,23,42,0.12);font-size:12px;background:#fff;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .tech-name{max-width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .job-main{min-width:220px}
    .job-main b{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .job-main .muted2{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .muted2{color:rgba(15,23,42,0.72)}
    .bottom-nav{position:fixed;left:0;right:0;bottom:0;background:#0f172a;display:flex;gap:6px;padding:8px;padding-bottom:calc(8px + env(safe-area-inset-bottom));z-index:999;border-top:1px solid rgba(255,255,255,0.08)}
    .nav-btn{flex:1;min-height:44px;border:1px solid rgba(255,255,255,0.18);background:transparent;color:#fff;border-radius:12px;font-weight:700;font-size:13px}
    .nav-btn.active{background:#22c55e;color:#052e16;border-color:transparent}
  </style>
</head>
<body class="theme-2">
  <div class="app">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
      <h2 style="margin:0">üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
      <button class="secondary" type="button" onclick="location.href='/admin.html'">‡πÄ‡∏°‡∏ô‡∏π</button>
    </div>

    <!-- Filter toggle (premium UX): show icon -> expand filters -->
    <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:12px;">
      <button id="btnToggleFilters" class="warning" type="button" style="width:auto;display:flex;align-items:center;gap:8px;">üêß ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
      <div class="muted" style="text-align:right;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å ‚Äú‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‚Äù ‡∏î‡πâ‡∏ß‡∏¢</div>
    </div>

    <div class="card" id="filterCard" style="margin-top:10px;display:none">
      <b>‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</b>
      <div class="grid2" style="margin-top:10px">
        <div>
          <label>‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
          <input id="date_from" type="date">
        </div>
        <div>
          <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
          <input id="date_to" type="date">
        </div>
      </div>
      <div class="grid2" style="margin-top:10px">
        <div>
          <label>‡∏ä‡πà‡∏≤‡∏á (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ)</label>
          <input id="technician" list="techList" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠/username">
          <datalist id="techList"></datalist>
        </div>
        <div>
          <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡∏ä‡∏∑‡πà‡∏≠/‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£/‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà/‡πÇ‡∏ã‡∏ô/‡πÄ‡∏•‡∏Ç‡∏á‡∏≤‡∏ô)</label>
          <input id="q" placeholder="‡πÄ‡∏ä‡πà‡∏ô 080xxxxxxx / ‡∏≠‡πà‡∏≠‡∏ô‡∏ô‡∏∏‡∏ä / CWF...">
        </div>
      </div>
      <div class="grid2" style="margin-top:10px">
        <div>
          <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</label>
          <select id="limit">
            <option value="100">100</option>
            <option value="200" selected>200</option>
            <option value="500">500</option>
          </select>
        </div>
        <div>
          <label>&nbsp;</label>
          <button id="btnLoad" class="warning">‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
        </div>
      </div>
      <div class="muted" style="margin-top:6px">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô/‡πÄ‡∏ß‡∏•‡∏≤/‡∏ä‡πà‡∏≤‡∏á/‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà/‡πÇ‡∏ã‡∏ô ‡πÑ‡∏î‡πâ (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å /admin/jobs_v2)</div>
    </div>

    <div class="table-wrap" id="wrap" style="display:none">
      <table>
        <thead>
          <tr>
            <th style="width:120px">‡πÄ‡∏•‡∏Ç‡∏á‡∏≤‡∏ô</th>
            <th style="width:130px">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</th>
            <th>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤/‡∏á‡∏≤‡∏ô</th>
            <th style="width:110px">‡∏ä‡πà‡∏≤‡∏á</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </div>

  <div class="bottom-nav">
    <button class="nav-btn" type="button" onclick="location.href='/admin-review-v2.html'">üì• ‡∏á‡∏≤‡∏ô‡∏à‡∏≠‡∏á</button>
    <button class="nav-btn" type="button" onclick="location.href='/admin-add-v2.html'">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</button>
    <button class="nav-btn" type="button" onclick="location.href='/admin-queue-v2.html'">üóìÔ∏è ‡∏Ñ‡∏¥‡∏ß‡∏ä‡πà‡∏≤‡∏á</button>
    <button class="nav-btn active" type="button" onclick="location.href='/admin-history-v2.html'">üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
    <button class="nav-btn" type="button" onclick="location.href='/admin-tech.html'">üë∑ ‡∏ä‡πà‡∏≤‡∏á</button>
  </div>

  <script src="admin-v2-common.js"></script>
  <script src="admin-history-v2.js"></script>
</body>
</html>
