<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡πà‡∏≤‡∏á - CWF</title>
  <link rel="stylesheet" href="style.css">

  <style>
    .tabs { display:flex; gap:10px; }
    .tab-btn{
      flex:1; min-height: 44px; border-radius: 14px;
      border: 1px solid rgba(15,23,42,0.10);
      background: rgba(37,99,235,0.08);
      color: #2563eb; font-weight: 800; box-shadow: none;
    }
    .tab-btn.active{
      background: linear-gradient(135deg, #2563eb, #06b6d4);
      color: #fff; border: none; box-shadow: var(--shadow-2);
    }

    .section{ display:none; }
    .section.active{ display:block; }

    /* ‚úÖ bottom bar ‡∏•‡πá‡∏≠‡∏Ñ‡∏ï‡∏¥‡∏î‡∏Ç‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏á‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    .bottom-nav{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      width: min(460px, calc(100% - 28px));
      z-index: 999;
      display:flex;
      gap:10px;
      padding: 10px;
      border-radius: 18px 18px 0 0;
      border: 1px solid rgba(15,23,42,0.10);
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
    }

    /* ‚úÖ ‡∏Å‡∏±‡∏ô content ‡πÇ‡∏î‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡∏ö */
    .app{ padding-bottom: 110px; }

    .nav-btn{
      flex:1; min-height: 44px; border-radius: 14px;
      border: 1px solid rgba(15,23,42,0.10);
      background: rgba(15,23,42,0.04);
      color: #0f172a; font-weight: 800; box-shadow:none;
      padding: 10px 8px; font-size: 12px;
    }
    .nav-btn.active{
      background: rgba(37,99,235,0.12);
      color: #2563eb;
      border-color: rgba(37,99,235,0.25);
    }

    /* ‚úÖ ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ä‡πà‡∏≤‡∏á: ‡∏£‡∏π‡∏õ + ‡∏ä‡∏∑‡πà‡∏≠ + ‡πÄ‡∏Å‡∏£‡∏î */
    .profile-box{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin: 6px 0 12px;
    }
    .profile-left{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .tech-avatar{
      width:56px;
      height:56px;
      border-radius: 999px;
      border: 3px solid rgba(37,99,235,0.25);
      object-fit: cover;
      background:#fff;
    }
    .profile-meta b{ font-size:18px; }
    .profile-meta .muted{ font-size:13px; margin-top:2px; }

    /* ‚úÖ ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ‡∏£‡∏´‡∏±‡∏™‡∏ä‡πà‡∏≤‡∏á/‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏™‡∏° ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ */
    .profile-right{ min-width: 168px; }
    .profile-stats{
      display:grid;
      gap:8px;
      padding:10px 12px;
      border-radius:14px;
      border: 1px solid rgba(15,23,42,0.10);
      background: rgba(15,23,42,0.03);
      box-shadow: none;
    }
    .profile-stats .stat-line{
      font-size:12px;
      font-weight:900;
      color:#0f172a;
      white-space:nowrap;
    }
    .profile-stats .stat{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      font-size:12px;
      color: rgba(15,23,42,0.70);
      white-space:nowrap;
    }
    .profile-stats .stat b{
      font-size:14px;
      color:#0f172a;
    }

    /* ‚úÖ ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏à‡∏≠‡πÅ‡∏Ñ‡∏ö: ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏¥‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ‡πÑ‡∏°‡πà‡πÄ‡∏ö‡∏µ‡∏¢‡∏î‡∏Å‡∏±‡∏ô */
    @media (max-width: 420px){
      .profile-box{ align-items:flex-start; }
      .profile-right{ min-width: 0; }
      .profile-stats{ width: 100%; }
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="topbar">
      <div class="brand">
        <!-- ‚úÖ ‡πÉ‡∏ä‡πâ absolute path -->
        <img src="/logo.png" alt="CWF">
        <div class="title">
          <b>CWF ‚Äì Technician</b>
          <span id="me">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: -</span>
        </div>
      </div>

      <div style="display:flex;align-items:center;gap:10px;">
        <!-- üé® ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏° (‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô) - ‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏° -->
        <button id="themeToggleBtn" class="btn" type="button"
          title="‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°"
          style="width:44px;min-width:44px;min-height:44px;padding:0;border-radius:14px;display:flex;align-items:center;justify-content:center;">
          üé®
        </button>

        <!-- üîî ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô/‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (‡∏ä‡πà‡∏≤‡∏á) -->
        <button id="notifyBtn" class="btn" type="button"
          title="‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô"
          style="width:44px;min-width:44px;min-height:44px;padding:0;border-radius:14px;display:flex;align-items:center;justify-content:center;">
          üîî
        </button>

        <button class="danger" style="width:auto;min-height:44px;padding:10px 12px;"
          type="button" onclick="logout()">‡∏≠‡∏≠‡∏Å</button>
      </div>
    </div>

    
        <!-- ===============================
         üéõÔ∏è ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ä‡πà‡∏≤‡∏á (‡∏™‡∏±‡πâ‡∏ô ‡∏ä‡∏±‡∏î ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á)
         - ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡πÅ‡∏î‡∏á ‡∏™‡∏•‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô/‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô
         - ‡πÇ‡∏ã‡∏ô‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô: dropdown (‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏°) ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ñ‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
         - ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ï‡πâ‡πÅ‡∏ñ‡∏ß‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î
    =============================== -->
    <div class="card tight" style="margin-top:10px;">
      <style>
        /* ‚úÖ ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠: ‡∏õ‡∏∏‡πà‡∏° + ‡πÇ‡∏ã‡∏ô ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
        .tech-ctrl-row{
          display:flex;
          gap:10px;
          align-items:stretch;
        }
        .tech-ctrl-row > *{
          flex:1;
          min-width:0;
        }

        /* ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô/‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô: ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ï‡∏•‡∏≠‡∏î */
        .accept-btn{
          width:100%;
          min-height:44px;
          border-radius:14px;
          border:1px solid rgba(15,23,42,0.10);
          font-weight:900;
          font-size:14px;
          display:flex;
          align-items:center;
          justify-content:center;
          gap:8px;
          padding:10px 12px;
          box-shadow:none;
          cursor:pointer;
          user-select:none;
          white-space:nowrap;
        }
        .accept-btn.ready{
          background: rgba(34,197,94,0.18);
          color:#0f172a;
          border-color: rgba(34,197,94,0.35);
        }
        .accept-btn.paused{
          background: rgba(239,68,68,0.18);
          color:#0f172a;
          border-color: rgba(239,68,68,0.35);
        }
        .accept-btn:disabled{
          opacity:0.75;
          cursor:not-allowed;
        }

        /* ‚úÖ dropdown ‡πÇ‡∏ã‡∏ô: ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏° */
        .zone-select{
          width:100%;
          min-height:44px;
          border-radius:14px;
          border:1px solid rgba(15,23,42,0.10);
          padding:10px 12px;
          font-weight:800;
          font-size:14px;
          background:#fff;
        }

        /* ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ï‡πâ‡πÅ‡∏ñ‡∏ß */
        .accept-hint{
          margin-top:8px;
          font-size:12px;
          color: rgba(15,23,42,0.65);
        }

        @media (max-width:380px){
          .accept-btn,.zone-select{ font-size:13px; }
        }
      </style>

      <div class="tech-ctrl-row">
        <button id="acceptToggleBtn" class="accept-btn ready" type="button">
          üü¢ ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô
        </button>

        <select id="zoneSelect" class="zone-select">
          <!-- ‚úÖ ‡πÄ‡∏≠‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô:" ‡∏≠‡∏≠‡∏Å ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ -->
          <option value="">‡∏ó‡∏∏‡∏Å‡πÇ‡∏ã‡∏ô</option>
          <option value="‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó">‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó</option>
          <option value="‡∏≠‡πà‡∏≠‡∏ô‡∏ô‡∏∏‡∏ä">‡∏≠‡πà‡∏≠‡∏ô‡∏ô‡∏∏‡∏ä</option>
          <option value="‡∏û‡∏£‡∏∞‡πÇ‡∏Ç‡∏ô‡∏á">‡∏û‡∏£‡∏∞‡πÇ‡∏Ç‡∏ô‡∏á</option>
          <option value="‡∏ö‡∏≤‡∏á‡∏ô‡∏≤">‡∏ö‡∏≤‡∏á‡∏ô‡∏≤</option>
          <option value="‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå">‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå</option>
          <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
        </select>
      </div>

      <!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î -->
      <div id="acceptStatusText" class="accept-hint">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞...</div>

      <!-- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡πà‡∏≤/‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏£‡∏Å) -->
      <select id="acceptStatusSelect" style="display:none;">
        <option value="ready">ready</option>
        <option value="paused">paused</option>
      </select>
      <div id="att-status" style="display:none;"></div>
    </div>

<div class="tabs">
      <button class="tab-btn active" id="tab-new" onclick="switchTab('new')">‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
      <button class="tab-btn" id="tab-active" onclick="switchTab('active')">‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
      <button class="tab-btn" id="tab-history" onclick="switchTab('history')">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</button>
    </div>

    <div class="card section active" id="sec-new">
      <h2>üßë‚Äçüîß ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ä‡πà‡∏≤‡∏á</h2>

      <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠/‡πÄ‡∏Å‡∏£‡∏î/‡∏£‡∏π‡∏õ‡∏ä‡πà‡∏≤‡∏á -->
      <div class="profile-box">
        <div class="profile-left">
          <div style="display:flex;flex-direction:column;align-items:center;gap:8px;">
            <img id="profile-photo" class="tech-avatar" src="/logo.png" alt="photo">
            <!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡πÉ‡∏ï‡πâ‡∏£‡∏π‡∏õ (‡πÑ‡∏°‡πà‡∏£‡∏Å) -->
            <div style="display:flex;flex-direction:column;gap:8px;align-items:stretch;">
              <button class="secondary btn-mini" type="button" onclick="goEditProfile()" style="min-height:32px;padding:6px 10px;font-size:12px;display:flex;align-items:center;justify-content:center;gap:6px;white-space:nowrap;">‚úèÔ∏è <span>‡πÅ‡∏Å‡πâ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span></button>
              <button class="secondary btn-mini" type="button" onclick="goChangePassword()" style="min-height:32px;padding:6px 10px;font-size:12px;display:flex;align-items:center;justify-content:center;gap:6px;white-space:nowrap;">üîë <span>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</span></button>
            </div>
          </div>

          <div class="profile-meta">
            <b id="profile-name">-</b>
            <!-- ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß (‡πÉ‡∏ä‡πâ Premium Rank ‡πÅ‡∏ó‡∏ô) -->
            <div id="profile-rank" style="margin-top:6px;display:flex;align-items:center;gap:8px;">
              <!-- üèÖ Rank badge (PNG ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™) ‚Üí ‡πÉ‡∏ä‡πâ height:auto ‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ‡∏ö‡∏µ‡πâ -->
              <img id="profile-rank-badge" src="/assets/ranks/rank_lv1_128.png" alt="rank" style="width:44px;height:auto;display:block;">
              <div class="muted" id="profile-rank-label">Rank: -</div>
            </div>
            <div class="muted" id="profile-grade">‡πÄ‡∏Å‡∏£‡∏î: -</div>
            <!-- ‚úÖ ‡πÉ‡∏ä‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå -->
            <div class="muted" id="profile-hint" style="margin-top:4px;"></div>
          </div>
        </div>

        <div class="profile-right">
          <div class="profile-stats">
            <div class="stat-line" id="profile-code">‡∏£‡∏´‡∏±‡∏™‡∏ä‡πà‡∏≤‡∏á: -</div>
            <div class="stat"><span>‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span><b id="rating">-</b></div>
            <div class="stat"><span>‚úÖ ‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏™‡∏°</span><b id="doneCount">-</b></div>
          </div>
        </div>
      </div>

      <hr>

      <!-- ‚úÖ ‡∏Å‡∏±‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ã‡πâ‡∏≠‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß -->
      <h2 style="margin-top:6px;">üì® ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ)</h2>
      <div id="offer-list"></div>
    </div>

    <div class="card section" id="sec-active">
      <h2>üß∞ ‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h2>
      <!-- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö app.js -->
      <div id="active-list"></div>
    </div>

    <div class="card section" id="sec-history">
      <h2>üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</h2>
      <!-- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö app.js -->
      <div id="history-list"></div>
    </div>
  </div>

  <!-- ‚úÖ bottom nav ‡∏•‡πá‡∏≠‡∏Ñ -->
  <div class="bottom-nav">
    <button class="nav-btn active" id="nav-new" onclick="switchTab('new')">üè† ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
    <button class="nav-btn" id="nav-active" onclick="switchTab('active')">üß∞ ‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
    <button class="nav-btn" id="nav-history" onclick="switchTab('history')">üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</button>
  </div>

  <script src="app.js"></script>
  <script>
        function goEditProfile(){ location.href = '/edit-profile.html'; }
        function goChangePassword(){ location.href = '/change-password.html'; }

function logout(){
      localStorage.removeItem("username");
      localStorage.removeItem("role");
      try { document.cookie = "cwf_auth=; Max-Age=0; Path=/; SameSite=Lax"; } catch(e) {}
      location.href = "/login.html";
    }

    const TECH_TAB_KEY = "cwf_tech_active_tab";

    function safeKey(k){
      return ["new","active","history"].includes(k) ? k : "new";
    }

    function switchTab(key, opts){
      const k0 = safeKey(key);
      const persist = (opts && opts.persist === false) ? false : true;

      ["new","active","history"].forEach(k=>{
        document.getElementById("sec-"+k).classList.toggle("active", k===k0);
        document.getElementById("tab-"+k).classList.toggle("active", k===k0);
        document.getElementById("nav-"+k).classList.toggle("active", k===k0);
      });

      if (persist) {
        try { localStorage.setItem(TECH_TAB_KEY, k0); } catch(e) {}
        try { location.hash = k0; } catch(e) {}
      }
    }

    // ‚úÖ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô/‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô)
    document.addEventListener("DOMContentLoaded", () => {
      let initial = "new";
      try {
        const h = (location.hash || "").replace(/^#/, "").trim();
        if (h) initial = h;
      } catch(e) {}

      if (initial === "new") {
        try {
          const saved = localStorage.getItem(TECH_TAB_KEY);
          if (saved) initial = saved;
        } catch(e) {}
      }

      switchTab(initial, { persist: false });
    });
  </script>
</body>
</html>
